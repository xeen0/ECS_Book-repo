(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{86:function(e,t,n){},93:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(1),r=n.n(a),o=n(12),i=n.n(o),s=(n(86),n(30)),l=n(72),j=n.n(l),b=n(14),d=n(61),u=n.n(d),h=n(66),O=n(17),p=Object(a.createContext)(),x=function(e){var t=Object(a.useState)([]),n=Object(O.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)([]),s=Object(O.a)(i,2),l=s[0],j=s[1],b=Object(a.useState)([]),d=Object(O.a)(b,2),u=d[0],h=d[1];return Object(c.jsx)(p.Provider,{value:{SelectedBooks:l,setSelectedBooks:j,Books:r,setBooks:o,DBooks:u,setDBooks:h},children:e.children})},g=n(38),f=n(136),v=n(10),m=n(139),k=n(141),y=n(46),S=n(104),C=n(159),B=n(142),w=n(157),N=n(102),D=n(143),P=n(32),I=n(64),R=Object(f.a)((function(e){return{grow:{flexGrow:1,justifyContent:"space-between"},menuButton:{marginRight:e.spacing(2)},title:Object(g.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,borderWidth:"1px",backgroundColor:Object(v.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"50%"}),inputRoot:{color:"inherit"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},inputInput:Object(g.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function T(){var e=R(),t=Object(a.useContext)(p),n=t.DBooks,r=t.setBooks,o=t.SelectedBooks,i=Object(a.useState)(""),s=Object(O.a)(i,2),l=s[0],j=s[1],b=Object(a.useState)("title"),d=Object(O.a)(b,2),u=d[0],h=d[1];return Object(c.jsx)("div",{className:e.grow,children:Object(c.jsx)(m.a,{position:"static",variant:"outlined",color:"default",children:Object(c.jsxs)(k.a,{children:[Object(c.jsx)(y.a,{className:e.title,variant:"h6",noWrap:!0,children:"Book Store"}),Object(c.jsx)("div",{className:e.search,children:Object(c.jsx)(S.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},fullWidth:!0,inputProps:{"aria-label":"search"},onChange:function(e){return function(e){var t=n.filter((function(t){var n="".concat(t["".concat(u)].toUpperCase()),c=e.toUpperCase();return n.indexOf(c)>-1}));j(e),r(t)}(e.target.value)},value:l})}),Object(c.jsxs)(C.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"title",onChange:function(e){return h(e.target.value)},children:[Object(c.jsx)(B.a,{value:"title",control:Object(c.jsx)(w.a,{color:"secondary"}),label:"Title"}),Object(c.jsx)(B.a,{value:"authors",control:Object(c.jsx)(w.a,{color:"secondary"}),label:"Authors"})]}),Object(c.jsx)("div",{className:e.grow}),Object(c.jsx)("div",{children:Object(c.jsx)(N.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(c.jsx)(P.b,{to:"/Page2",style:{textDecoration:"none"},children:o.length>0?Object(c.jsx)(le,{children:Object(c.jsx)(D.a,{badgeContent:"".concat(o.length),color:"secondary",children:Object(c.jsx)(I.a,{})})}):Object(c.jsx)(D.a,{color:"secondary",children:Object(c.jsx)(I.a,{})})})})})]})})})}var E=n(144),L=n(145),A=n(146),Q=n(160),_=n(101),F=n(147),W=n(148),G=n(149),U=n(158),z=n(155),q=n(162);function M(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function H(e,t){return"desc"===e?function(e,n){return M(e,n,t)}:function(e,n){return-M(e,n,t)}}var J=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var c=t(e[0],n[0]);return 0!==c?c:e[1]-n[1]})),n.map((function(e){return e[0]}))},V=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,r=function(e){return function(t){a(t,e)}},o=X();return Object(c.jsx)(E.a,{children:Object(c.jsxs)(L.a,{children:[Object(c.jsx)(A.a,{align:"center",className:o.title,children:"SELECT"}),Object(c.jsx)(A.a,{align:"center",className:o.title,children:"TITLE"}),Object(c.jsx)(A.a,{align:"center",className:o.title,children:"AUTHORS"}),Object(c.jsx)(A.a,{align:"center",className:o.title,children:"LANGUAGE"}),Object(c.jsx)(A.a,{align:"center",sortDirection:"average_rating"===n&&t,className:o.title,children:Object(c.jsx)(Q.a,{active:"average_rating"===n,direction:"average_rating"===n?t:"asc",onClick:r("average_rating"),children:"RATING"})}),Object(c.jsx)(A.a,{align:"center",className:o.title,children:"RATINGS"}),Object(c.jsx)(A.a,{align:"center",sortDirection:"price"===n&&t,className:o.title,children:Object(c.jsx)(Q.a,{active:"price"===n,direction:"price"===n?t:"asc",onClick:r("price"),children:"PRICE"})})]})})},Y=function(){var e=K(),t=Object(a.useState)("asc"),n=Object(O.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),s=Object(O.a)(i,2),l=s[0],j=s[1],b=Object(a.useState)(0),d=Object(O.a)(b,2),u=d[0],h=d[1],x=Object(a.useState)(20),g=Object(O.a)(x,1)[0],f=Object(a.useContext)(p),v=f.Books,m=f.SelectedBooks,k=f.setSelectedBooks;return Object(c.jsx)("div",{className:e.root,children:Object(c.jsxs)(_.a,{className:e.paper,children:[Object(c.jsx)(F.a,{children:Object(c.jsxs)(W.a,{className:e.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(c.jsx)(V,{classes:e,order:r,orderBy:l,onRequestSort:function(e,t){o(l===t&&"asc"===r?"desc":"asc"),j(t)}}),Object(c.jsx)(G.a,{children:J(v,H(r,l)).slice(u*g,u*g+g).map((function(e,t){var n,a=(n=e.bookID,-1!==m.indexOf(n)),r="enhanced-table-checkbox-".concat(t);return Object(c.jsxs)(L.a,{hover:!0,onClick:function(t){return function(e,t){var n=m.indexOf(t),c=[];-1===n?c=c.concat(m,t):0===n?c=c.concat(m.slice(1)):n===m.length-1?c=c.concat(m.slice(0,-1)):n>0&&(c=c.concat(m.slice(0,n),m.slice(n+1))),k(c),console.log(m)}(0,e.bookID)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(c.jsx)(A.a,{padding:"checkbox",children:Object(c.jsx)(U.a,{checked:a,inputProps:{"aria-labelledby":r}})}),Object(c.jsx)(A.a,{component:"th",id:r,scope:"row",padding:"none",children:e.title}),Object(c.jsx)(A.a,{align:"center",children:e.authors}),Object(c.jsx)(A.a,{align:"center",children:e.language_code}),Object(c.jsx)(A.a,{align:"center",children:Object(c.jsx)(q.a,{name:"read-only",value:e.average_rating,readOnly:!0})}),Object(c.jsx)(A.a,{align:"center",children:e.ratings_count}),Object(c.jsx)(A.a,{align:"center",children:e.price})]},e.bookID)}))})]})}),Object(c.jsx)(z.a,{rowsPerPageOptions:[],labelRowsPerPage:"",component:"div",count:v.length,rowsPerPage:g,page:u,onChangePage:function(e,t){h(t)}})]})})},K=Object(f.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(0)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),X=Object(f.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(v.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Z=n(150),$=n(152),ee=n(71),te=Object(f.a)({table:{minWidth:700}});function ne(){var e=te(),t=Object(a.useContext)(p),n=t.SelectedBooks,r=t.Books,o=t.setBooks,i=t.setSelectedBooks;function l(e){return e.map((function(e){var t=r.find((function(t){if(t.bookID===e)return t}));return t.Qty*t.price})).reduce((function(e,t){return e+t}),0)}return Object(c.jsx)(F.a,{component:_.a,children:Object(c.jsxs)(W.a,{className:e.table,"aria-label":"spanning table",children:[Object(c.jsx)(E.a,{children:Object(c.jsxs)(L.a,{children:[Object(c.jsx)(A.a,{children:"Book Title"}),Object(c.jsx)(A.a,{align:"center",children:"Qty."}),Object(c.jsx)(A.a,{align:"center",children:"Delete"}),Object(c.jsx)(A.a,{align:"center",children:"Unit"}),Object(c.jsx)(A.a,{align:"center",children:"Sum"})]})}),Object(c.jsxs)(G.a,{children:[n.map((function(e,t){var a=r.find((function(t){if(t.bookID===e)return t}));return Object(c.jsxs)(L.a,{children:[Object(c.jsx)(A.a,{children:a.title}),Object(c.jsx)(A.a,{align:"center",children:Object(c.jsx)(Z.a,{type:"number",value:a.Qty,onChange:function(t){var n=r.map((function(n){return n.bookID!==e||0==t.target.value?n:Object(s.a)(Object(s.a)({},n),{},{Qty:t.target.value})}));o(n)}})}),Object(c.jsxs)(A.a,{align:"center",children:[" ",Object(c.jsx)(ee.a,{style:{cursor:"pointer"},onClick:function(){var e=[];e=e.concat(n.slice(0,t),n.slice(t+1)),i(e)}})]}),Object(c.jsx)(A.a,{align:"center",children:a.price}),Object(c.jsx)(A.a,{align:"center",children:a.Qty*a.price})]},a.bookID)})),Object(c.jsxs)(L.a,{children:[Object(c.jsx)(A.a,{rowSpan:7}),Object(c.jsx)(A.a,{colSpan:3,children:"Total"}),Object(c.jsx)(A.a,{align:"center",children:l(n)})]}),Object(c.jsxs)(L.a,{children:[Object(c.jsx)(A.a,{colSpan:2,sm:2}),Object(c.jsx)(A.a,{align:"right",children:Object(c.jsx)($.a,{variant:"contained",color:"secondary",onClick:function(){if(0===n.length)alert("Please Select atleast one book");else{alert("Your order is been taken , Total Price payed : "+l(n));var e=r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Qty:1})}));o(e),i([])}},children:"Check Out"})})]})]})]})})}var ce=n(156),ae=n(151),re=n(161),oe=n(153),ie=n(154),se=Object(f.a)((function(e){return{popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}}));function le(e){var t=se(),n=r.a.useState(null),o=Object(O.a)(n,2),i=o[0],s=o[1],l=Object(a.useContext)(p),j=l.Books,b=l.SelectedBooks,d=function(){s(null)},u=Boolean(i);return Object(c.jsxs)("div",{children:[Object(c.jsx)(y.a,{"aria-owns":u?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){s(e.currentTarget)},onMouseLeave:d,children:e.children}),Object(c.jsx)(ce.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:u,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:d,disableRestoreFocus:!0,children:b.map((function(e,t){var n=j.find((function(t){if(t.bookID===e)return t}));return Object(c.jsxs)(ae.a,{children:[Object(c.jsx)(re.a,{children:Object(c.jsx)(oe.a,{children:n.title})}),Object(c.jsx)(ie.a,{})]},t)}))})]})}var je=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(T,{}),Object(c.jsx)(Y,{})]})},be=Object(f.a)({title:{margin:"auto ",fontFamily:"'Balsamiq Sans'"}}),de=function(){var e=be();return Object(c.jsxs)("div",{children:[Object(c.jsx)(ne,{}),Object(c.jsx)(P.b,{to:"/Page1",style:{textDecoration:"none"},children:Object(c.jsx)($.a,{variant:"contained",color:"secondary",children:Object(c.jsx)(y.a,{className:e.title,children:"Shop More"})})})]})};n(93);var ue=function(){var e=Object(a.useContext)(p),t=e.setBooks,n=e.setDBooks,o=function(e){var t=Object(a.useState)(null),n=Object(O.a)(t,2),c=n[0],o=n[1];return r.a.useEffect((function(){!function(){var t=Object(h.a)(u.a.mark((function t(){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,o(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),c}("https://s3-ap-southeast-1.amazonaws.com/he-public-data/books8f8fe52.json");return Object(a.useEffect)((function(){!function(){if(o){var e=o.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{title:e.title.toString(),Qty:1})}));n(e),t(e)}}()}),[o]),Object(c.jsx)("div",{className:"App",children:o?Object(c.jsxs)("div",{children:[Object(c.jsx)(b.a,{to:{pathname:"/Page1",state:{from:"/"}}}),Object(c.jsx)(b.b,{exact:!0,path:"/Shop",component:je}),Object(c.jsx)(b.b,{exact:!0,path:"/Checkout",component:de})]}):Object(c.jsx)(j.a,{color:"#D0021B",loading:!0,size:150})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(P.a,{children:Object(c.jsx)(x,{children:Object(c.jsx)(ue,{})})}),document.getElementById("root")),he()}},[[99,1,2]]]);
//# sourceMappingURL=main.868c34d2.chunk.js.map